<!DOCTYPE html>
<html>
<head>
<title>Flame On Menu</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
font-family:Arial;
background:#111;
color:white;
margin:0;
}
h1{
text-align:center;
padding:15px;
background:#000;
color:#ff4500;
}
.item{
background:#1c1c1c;
margin:10px;
padding:15px;
border-radius:12px;
}
button{
background:#ff4500;
border:none;
padding:6px 12px;
color:white;
border-radius:6px;
margin:3px;
}
.quantity{
display:flex;
align-items:center;
gap:8px;
margin-top:8px;
}
.cart{
position:fixed;
bottom:0;
width:100%;
background:#000;
padding:15px;
text-align:center;
border-top:2px solid #ff4500;
}
</style>
</head>
<body>

<h1>ðŸ”¥ Flame On Menu ðŸ”¥</h1>

<div id="menu"></div>

<div class="cart">
Total: â‚¹<span id="total">0</span>
<br><br>
<button onclick="sendOrder()">Order on WhatsApp</button>
</div>

<script>
let cart = {};
let totalAmount = 0;

fetch("./menu.json")
.then(res => res.json())
.then(data => {
    const menuDiv = document.getElementById("menu");

    data.forEach(category => {
        const catTitle = document.createElement("h2");
        catTitle.textContent = category.category;
        catTitle.style.color="#ff4500";
        menuDiv.appendChild(catTitle);

        category.items.forEach((item, index) => {

            let safeId = "item_" + category.category.replace(/\s/g,'') + "_" + index;

            const div = document.createElement("div");
            div.className="item";

            div.innerHTML = `
                <b>${item.name}</b><br>
                â‚¹${item.price}
                <div class="quantity">
                    <button onclick="changeQty('${safeId}','${item.name}', ${item.price}, -1)">-</button>
                    <span id="${safeId}">0</span>
                    <button onclick="changeQty('${safeId}','${item.name}', ${item.price}, 1)">+</button>
                </div>
            `;
            menuDiv.appendChild(div);
        });
    });
});

function changeQty(id, name, price, change){

    if(!cart[name]){
        cart[name] = {qty:0, price:price};
    }

    cart[name].qty += change;

    if(cart[name].qty < 0){
        cart[name].qty = 0;
    }

    document.getElementById(id).innerText = cart[name].qty;

    calculateTotal();
}

function calculateTotal(){
    totalAmount = 0;
    for(let item in cart){
        totalAmount += cart[item].qty * cart[item].price;
    }
    document.getElementById("total").innerText = totalAmount;
}

function sendOrder(){

    if(totalAmount === 0){
        alert("Please select items first!");
        return;
    }

    let message = "ðŸ”¥ Flame On Order:%0A%0A";

    for(let item in cart){
        if(cart[item].qty > 0){
            message += item + " x " + cart[item].qty + "%0A";
        }
    }

    message += "%0ATotal: â‚¹" + totalAmount;

    window.open("https://wa.me/919090820969?text=" + message);
}
</script>

</body>
</html>
